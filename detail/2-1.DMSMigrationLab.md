# DMS Migration Lab

### 순서

- 안내
1. Subnet Group 생성
2. DMS Replication Instance 생성
3. DMS Source Endpoint 생성
4. DMS Target Endpoint 생성
5. Initial full copy 수행을 위한 Task 생성
6. (Optional) 소스 데이터 변경분을 지속적으로 복제하는 기능을 위한 CDC endpoint 생성
7. (Optional) 소스 데이터 변경분을 지속적으로 복제하는 기능을 위한 Task 생성
- 다음 단계

### 1. 안내

이 실습은 AWS Database Migration Service (AWS DMS) 에 대한 이해를 돕기위한 것으로서, 이미 만들어진 Amazon Relational Database Service (Amazon RDS) Postgres 데이터베이스로부터 Amazon Simple Storage Service (Amazon S3) 버킷으로 데이터를 마이그레이션하게 됩니다.

![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/30.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/30.png)

이번 실습동안 아래와 같은 작업을 수행하게 됩니다:

1. DMS Lab VPC 에 subnet group 생성
2. DMS replication instance 생성
3. DMS source endpoint 생성
4. DMS target endpoint 생성
5. Initial full copy 수행을 위한 Task 생성

부가적으로, 소스 데이터 변경분을 지속적으로 복제하는 기능에 대한 실습도 가능합니다: (Only one of the DMS replication instances will enable this 
feature.)

1. CDC 파일을 위한 별도의 Target endpoint 생성
2. 소스 데이터 변경분을 지속적으로 복제하는 기능을 위한 Task 생성

우리의 실습 환경에는 이미 RDS Postgres 데이터베이스가 생성되어 있어, 이를 소스 엔드포인트로 사용하게 됩니다.


### 2. Subnet Group 생성

1. [DMS 콘솔](https://console.aws.amazon.com/dms/v2/home#createSubnetGroup) 로 이동하여, Subnet Groups 를 선택한 후, Create subnet group 을 클릭하세요.

![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/31.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/31.png)

- In the Identifier box, type a descriptive name that you will easily recognize (e.g., `dms-lab-subnet-grp`).
- In the Description box, type an easily recognizable description (e.g., `Replication instance for production data system`).
- For VPC, select the name of the VPC that you created earlier with AWS CloudFormation template. VPC name ending with **dmslstudv1**.
The subnet list populates in the Available Subnets pane.
- Select as many subnets as you want and click Add. The selected subnets move to the Subnet Group pane.

> > DMS requires at least two separate availability zones to be selected.

![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/32.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/32.png)

- Click Create subnet group
- On the DMS console, the subnet group status displays **Complete**.
    
    ![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/33.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/33.png)
    

### 3. DMS Replication Instance 생성

1. On the DMS console, select [Replication instances](https://console.aws.amazon.com/dms/v2/home#createReplicationInstance)

to create a new replication instance.

![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/34.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/34.png)

- For Name, type a name for the replication instance that you will easily recognize. (e.g., `DMS-Replication-Instance`).
- For Description, type a description you will easily recognize. (e.g., `DMS Replication Instance`).
- For Instance class, choose **dms.t3.medium**
- Select the latest engine version
- For VPC, select the name of the VPC that you created earlier with AWS CloudFormation template or preprovisoned for you. VPC name ending with **dmslstudv1**.
- For Multi AZ, from the dropdown select **Dev or test workload (Single-AZ)**
    
    ![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/35.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/35.png)
    
- Click Advanced to expand the section.
- Select the security group with **sgdefault** in the name.
    
    ![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/36.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/36.png)
    
- Leave other fields at their default values, then click **Create**.
- The DMS console displays creating for the instance status. When the
replication instance is ready, the status changes to available. While
replication instance is spinning up, you can proceed to next step for
DMS endpoint creation.
    
    ![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/37.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/37.png)
    

### 4. DMS Source Endpoint 생성

Please proceed to create your endpoints, without waiting for the step above.

1. On the DMS console, select Endpoints to create one source [Endpoint](https://console.aws.amazon.com/dms/v2/home#createNewEndpoint)

![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/38.1.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/38.1.png)

- select **Source Endpoint** type.
- For Endpoint identifier, select your easily recognized name (e.g. `rds-source-endpoint`)
- For Source engine, select `PostgreSQL`.
- For "Access to Endpoint database", select "Provide access information manually"
- Enter the Server name, get the **Database Endpoint** from Environment Setup module on your event engine dashboard.
    
    ![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/db_endpoint.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/db_endpoint.png)
    

Or if you ran instructor lab then take recorded endpoint from the instructor

[pre-lab](https://console.aws.amazon.com/cloudformation/home#/stacks?filteringText=&filteringStatus=active&viewNested=true&hideStacks=false)

1. (e.g. “dmslabinstance.ccla1oozkrry.us-east-1.rds.amazonaws.com”).For Port, enter `5432`.For SSL mode, choose `none`.For User name, type `adminuser`.For Password, type `admin123`.For Database name, type `sportstickets`.

*(These credentials were defined directly in the CFN template.)*

1. Accept other defaults and then click Create endpoint to create the
endpoint. When available, the endpoint status changes to active.
2. Check the replication instance created previously. Make sure the status is available.
    
    ![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/40.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/40.png)
    

Select your newly created source endpoint, and choose Test connection on the Actions drop-down list.

![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/41.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/41.png)

- If the test fails then ensure that 1/ you have followed the steps to
allow inbound access to the RDS database instance security group, and 2/ your database credentials are correct
- Click Run test. This step tests connectivity to the source database
system. If successful, the message “Connection tested successfully”
appears.
    
    ![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/42.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/42.png)
    

Note
 for instructor: In case the test fail, two possible reasons: a) RDS 
security group restriction. To resolve this, revisit instructor lab and 
follow section “Changing RDS security Group” to troubleshoot. b) RDS is 
not accessible because its disk is full. The solution is VACUUM FULL on 
the DB, or free up some disk space by deleting unnecessary 
auto-snapshots.


### 5. DMS Target Endpoint 생성

Before start, make sure you have the following values handy (on your event dashboard).

- ARN of DMSLabRole to access S3 - It looks like "arn:aws:iam::<account number>:role/xxx-DMSLabRoleS3-xxxx"
- S3 Bucket name - It looks like “xxx-dmslabs3bucket-xxxx”
    
    ![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/43.1.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/43.1.png)
    
- On the DMS console, select Endpoint to create a target [Endpoint](https://console.aws.amazon.com/dms/v2/home#createNewEndpoint)

.

![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/43.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/43.png)

- For Endpoint type, select **Target endpoint**.
- For Endpoint identifier, type an easily recognized name such as `s3-target-endpoint`
- For Target engine, choose **Amazon S3**.
- For Service access role ARN, paste the DMSLabRoleS3 ARN number noted earlier
- For Bucket name, paste the S3 Bucket Name noted earlier
- For Bucket folder, type `tickets`.
    
    ![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/44.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/44.png)
    
- Expand the Endpoint settings section.
- Click on the **Use endpoint connection** attributes checkbox, type in `addColumnName=true` in the Extra connection attributes box”
    
    ![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/dms_settings.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/dms_settings.png)
    
- Expand the Test endpoint connection (optional) section, and choose your “VPC name with dmslstudv1” on the VPC drop-down list.
- Click Run test. This step tests connectivity to the source database
system. If successful, the message “Connection tested successfully”
appears.
    
    ![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/45.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/45.png)
    

Click Create Endpoint. When available, the endpoint status changes to active.

![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/46.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/46.png)


### 6. Initial full copy 수행을 위한 Task 생성

1. On the DMS console, select **Database Migration Tasks**.
2. Click Create Task.
    - Type an easily recognized Task name e.g. `dms-full-dump-task`.
    - Select your Replication instance from drop down.
    - Select your Source endpoint from drop down.
    - Select your Target endpoint from drop down.
    - For Migration type choose **Migrate existing data**.
        
        ![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/47.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/47.png)
        
- Expand Task Settings.
- Select the **Enable CloudWatch logs** check box.
    
    ![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/48.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/48.png)
    
- Go to **Table Mappings**.
- Click on Add new selection rule and select “Enter a Schema” in Schema field.
- For Schema name, select `dms_sample` . Keep the settings for the remaining fields
    
    ![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/49.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/49.png)
    

Click **Create task**. Your task is created and starts automatically.

- The complete creation and data extraction process takes 5 to 15 minutes.
- Once complete, the console displays **100%** progress.
    
    ![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/50.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/50.png)
    

Select your task and explore the summary. Scroll down and you can observe all table information loaded in S3 from RDS by DMS

![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/51.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/51.png)

![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/52.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/52.png)

1. Open the S3 console and view the data that was copied by DMS.

Your S3 bucket name will look like below: **BucketName/bucket_folder_name/schema_name/table_name/objects/**

In our lab example this becomes:

*/dmslab-student-dmslabs3bucket-woti4bf73cw3/tickets/dms_sample*

with a separate path for each table_name)

![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/53.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/53.png)

- Navigate to one of the files and review it using [S3 Select](https://docs.aws.amazon.com/AmazonS3/latest/userguide/selecting-content-from-objects.html)

:
a. Navigate in to the directory named

**player**

and select the check box next to the file name.

b. Click the

**Actions**

dropdown button and choose

**Query with S3 Select**

.

![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/53-1.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/53-1.png)

c. In the Query with S3 Select page, leave the default value for

*Input Settings*

and

*SQL Query*

and click

**Run SQL query**

.

![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/53-2.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/53-2.png)

d. It will execute the specified SQL query and return the first 5 lines from the CSV file.

![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/53-3.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/53-3.png)

You will notice that the file contains the column headers in the first row as requested by the **“addColumnName=true”**
 connection attribute we included when we created the s3 target 
endpoint. Note that column names are included in the file in the first 
row.

Explore the objects in the S3 directory further.


### 7. (Optional) 소스 데이터 변경분을 지속적으로 복제하는 기능을  CDC endpoint 생성
  
As of now we are enabling only one schema replication for CDC. Copy the following values from the Event Engine Team Dashboard.

- ARN of DMSLabRole to access S3 - It looks like “arn:aws:iam::<account number>:role/xxx- DMSLabRoleS3-xxxx“
- S3 Bucket name - It looks like “xxx-dmslabs3bucket-xxxx”
    
    ![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/43.1.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/43.1.png)
    
- On the DMS console, select Endpoints.
    
    ![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/55.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/55.png)
    

Click Create endpoint.

- For Endpoint type, select **Target**.
- For Endpoint identifier, type an easily recognized name e.g. `rds-cdc-endpoint`
- For Target engine, choose **Amazon S3**.
- For Service Access Role ARN, paste the ARN value that you noted earlier
- For Bucket name, type the name of the s3 bucket you noted down earlier
- For Bucket folder, type **cdc**.

Make sure you enter folder name as **cdc**. If you don't use different folder name than during fully copy, your Glue ETL Lab will fail while running the job.

![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/56.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/56.png)

- Click Endpoint-specific settings to expand the section.
- In the Extra connection attributes box, type `addColumnName=true`. This attribute includes the column names in the files in the S3 bucket.
- Expand the Test endpoint connection (optional) section, and choose your **dmslstudv1** name on the VPC drop-down list.
- Click Run test. This step tests connectivity to the source database
system. If successful, the message “Connection tested successfully”
appears.
    
    ![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/57.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/57.png)
    
- Click Create endpoint.
- When available, the endpoint status changes to active.
    
    ![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/58.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/58.png)
    

### 8. (Optional) 소스 데이터 변경분을 지속적으로 복제하는 기능을 위해 Task 생성

1. On the DMS console, select Database Migration Tasks.
    
    ![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/59.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/59.png)
    

Click Create Task.

- Type an easily recognized Task Identifier. For example `cdctask`.
- Select your Replication instance.
- Select your Source endpoint.
- Select your Target endpoint as cdc endpoint created in the previous section.
- For Migration type, choose **Replicate data changes only**.
- Select the Start task on create check box.
    
    ![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/60.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/60.png)
    

In Task Settings, Select the Enable CloudWatch logs check box. Do not enable the validation.

![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/61.1.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/61.1.png)

- Go to Table Mappings.
- Click on Add new selection rule and select “Enter a Schema” in Schema field.
- For Schema name, select `dms_sample` . Keep the settings for the remaining fields
    
    ![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/62.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/62.png)
    

Click Create task. Your task is created and starts automatically. You
 can see status as ongoing replication, after couple of minutes.

![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/63.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/63.png)

Once complete, the console displays 100% complete.

1. Your instructor will generate CDC activity which the above migration task will capture. If you ran the instructor setup on your own, then
make sure to follow **[Generate the CDC Data(/400/401/410-pre-lab-1#generate-and-replicate-the-cdc-data-(optional))** section from instructor lab.

You may need to wait 5 to 10 minutes for CDC data to first reflect in
 your RDS postgres database and then picked up by DMS CDC migration 
task.

1. Once the CDC Data gets replicated, you can navigate to CDC task details, see **Table statistics** section and verify it, as shown below:

In
 case you see DMS CDC task in fail/error status. Make sure your 
replication instance version is greater than 3.3.2 and it is large 
enough (dms.t2.medium or above) to run CDC replication task

![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/64.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/64.png)

Open the S3 console and view the CDC data that was copied by DMS.

Your S3 bucket name will look like below : BucketName/bucket_folder_name/schema_name/table_name/objects/

In our lab example this becomes: */dmslab-student-dmslabs3bucket-woti4bf73cw3/cdc/dms_sample* with a separate path for each table_name

![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/65.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/65.png)

Navigate to one of the files and review it using [S3 Select](https://docs.aws.amazon.com/AmazonS3/latest/userguide/selecting-content-from-objects.html)

:
a. Navigate in to the directory named

**sporting_event_ticket**

and select the check box next to the file name.

b. Click the

**Actions**

dropdown button and choose

**Query with S3 Select**

.

![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/65-1.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/65-1.png)

c. In the Query with S3 Select page, leave the default value for

*Input Settings*

and

*SQL Query*

and click

**Run SQL query**

.

![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/65-2.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/65-2.png)

d. It will execute the specified SQL query and return the first 5 lines from the CSV file.

![https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/65-3.png](https://static.us-east-1.prod.workshops.aws/public/03be2e95-54e1-4b84-aa89-e115b803304a/static/400/images/65-3.png)

You
 will notice that the file contains the column headers in the first row 
as requested by the “addColumnName=true” connection attribute we 
included when we created the s3 target endpoint.

> Note that file name has date time - 20210915-085904798.csv
> 

You can see the header is included and the operation column is added 
at the beginning of each row. The file below shows updates (U) to the 
table along with the values after the update. Inserts (I) show data 
after the insert and Deletes (D) show data before the delete.

Explore the objects in the S3 directory further.
  
### 다음 단계

아래를 클릭하시여 다음 실습으로 이동합니다.
- [3.Lab: Transforming data with Glue](../detail/3.Lab:TransformingdatawithGlue.md)
